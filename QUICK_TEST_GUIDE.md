# 快速测试指南 - Sprint 01 修复验证

**版本**: Sprint 01 Fix  
**测试时间**: 2026-01-17  
**状态**: ✅ 就绪测试

---

## 🚀 快速开始

### 1. 停止并重启服务
```bash
# 停止旧服务
./stop.sh

# 清理前端编译缓存（重要！）
cd frontend
rm -rf node_modules/.cache

# 回到项目根目录
cd ..

# 重新启动
./start.sh
```

**等待时间**: 前端编译需要30-60秒

---

## 🧪 测试清单

### ✅ 测试1: 仪表盘图表修复

#### 步骤
1. 访问 http://localhost:8080
2. 等待数据加载完成
3. 点击顶部 "📊 仪表盘" 按钮

#### 验证点
- [ ] 页面无报错（检查浏览器Console）
- [ ] 核心指标卡片正常显示（4个卡片）
- [ ] 节点类型分布柱状图正常显示
- [ ] 关系类型分布饼图正常显示（✨修复重点）
- [ ] 核心节点Top 5列表正常显示
- [ ] Schema统计信息正常显示

#### 预期结果
```
✅ 无 "Unknown Component: shape.inner" 错误
✅ 饼图使用外部标签显示百分比
✅ 所有图表正常交互（鼠标悬停显示tooltip）
```

#### 问题排查
如果仍有错误：
```bash
# 清理缓存重试
cd frontend
rm -rf node_modules/.cache
npm start
```

---

### ✅ 测试2: 树形视图详情抽屉

#### 步骤
1. 访问 http://localhost:8080
2. 点击顶部 "🌲 树形" 按钮
3. 切换到 "实例树" Tab
4. 展开任意类型节点（如：VehicleProject）
5. 点击任意实例节点（如：PROJ_001）

#### 验证点
- [ ] 右侧弹出详情抽屉
- [ ] 显示节点基本信息（ID、类型、标签）
- [ ] 显示节点所有属性（如：project_name, PM等）
- [ ] 显示关联关系列表
  - [ ] 区分入边和出边
  - [ ] 显示关系类型（紫色Tag）
  - [ ] 显示关联节点（绿色Tag）
- [ ] 显示关联节点列表（可点击的青色Tag）
- [ ] 点击关联节点Tag可以触发选择

#### 预期结果
```
✅ 详情抽屉流畅打开
✅ 信息完整显示，布局清晰
✅ 所有Tag颜色正确
✅ 关联信息准确（数量和内容）
```

#### 示例节点测试
建议测试以下节点（关联丰富）：
- `PROJ_001` - 车型项目（应该有多个领域项目关联）
- `SSTS_1001` - SSTS（应该有Feature和模块关联）
- `Epic_E001` - Epic（应该有拆分关系）

---

### ✅ 测试3: 树形视图搜索功能

#### 步骤
1. 在树形视图的"实例树"Tab
2. 在搜索框输入 "PROJ"
3. 观察搜索结果

#### 验证点
- [ ] 搜索结果自动展开显示匹配项
- [ ] 匹配的节点高亮或突出显示
- [ ] 搜索无结果时显示"暂无数据"

---

### ✅ 测试4: 类层次树

#### 步骤
1. 切换到 "类层次" Tab
2. 观察类型层次结构

#### 验证点
- [ ] 显示所有实体类型
- [ ] 显示实例数量统计（括号中的数字）
- [ ] 层次关系正确（如果有extends定义）

---

## 🔍 详细功能测试

### 详情抽屉功能细节

#### 基本信息卡片
```
节点ID: [蓝色Tag]
节点类型: [绿色Tag]（显示中文label）
节点标签: 节点的显示名称
```

#### 节点属性卡片
```
属性名1: 属性值1
属性名2: 属性值2
...
```
- 属性名自动格式化（下划线转空格，首字母大写）
- 布尔值显示为"是/否"
- 支持各种数据类型

#### 关联关系卡片
每个关系显示为一个小卡片：
```
[蓝色Tag: 出边] [紫色Tag: 关系类型]
目标节点: [绿色Tag: 节点名称]
```
或
```
[橙色Tag: 入边] [紫色Tag: 关系类型]
源节点: [绿色Tag: 节点名称]
```

#### 关联节点卡片
```
[青色Tag: 节点1] [青色Tag: 节点2] ...
```
- 可点击跳转
- 自动去重

---

## 📊 性能测试

### 仪表盘加载时间
**预期**: < 500ms

**测试方法**:
1. 打开浏览器DevTools
2. 切换到Network面板
3. 刷新页面并切换到仪表盘
4. 查看加载时间

### 树形视图响应速度
**预期**: 点击节点 < 100ms 显示详情

**测试方法**:
1. 打开Performance面板
2. 点击节点
3. 查看渲染时间

---

## 🐛 已知问题

### 1. 矩阵视图性能
**问题**: 节点>50时加载慢  
**状态**: ⏳ 待优化（Sprint 02）  
**临时方案**: 使用关系类型过滤减少数据量

### 2. 树形视图大数据
**问题**: 节点>1000时可能卡顿  
**状态**: ⏳ 待优化（Sprint 03 - 虚拟滚动）  
**临时方案**: 使用搜索功能快速定位

---

## 💡 使用技巧

### 技巧1: 快速查看节点关联
1. 在树形视图点击节点
2. 查看详情抽屉的"关联节点"
3. 点击青色Tag快速跳转

### 技巧2: 从仪表盘快速定位
1. 在仪表盘查看"核心节点Top 5"
2. 记住节点ID
3. 切换到树形视图搜索该ID

### 技巧3: 组合使用多个视图
1. **仪表盘** - 了解整体情况
2. **树形视图** - 定位具体节点
3. **图谱视图** - 查看节点网络
4. **矩阵视图** - 分析关系模式

---

## 📸 测试截图参考

### 仪表盘正常显示
- 应该看到4个指标卡片（绿、蓝、红、紫色）
- 柱状图显示各类型节点数量
- 饼图显示关系类型分布（带百分比标签）
- Top 5核心节点列表

### 树形视图详情抽屉
- 右侧480px宽的抽屉
- 多个Card卡片层叠显示
- 各种颜色的Tag标签
- 清晰的信息层次

---

## ✅ 测试完成确认

### 必测项目
- [ ] 仪表盘无报错
- [ ] 饼图正常显示
- [ ] 树形视图点击节点显示详情
- [ ] 详情抽屉显示关联关系
- [ ] 详情抽屉显示关联节点

### 推荐测试
- [ ] 搜索功能
- [ ] 多个节点详情
- [ ] 视图切换流畅度
- [ ] 不同类型节点的详情

### 性能测试
- [ ] 仪表盘加载时间
- [ ] 详情抽屉打开速度
- [ ] 大数据量测试（可选）

---

## 🆘 问题反馈

### 如果发现问题

1. **记录错误信息**
   - 打开浏览器Console
   - 复制错误堆栈
   - 截图UI显示

2. **记录复现步骤**
   - 操作顺序
   - 数据状态
   - 浏览器信息

3. **查看日志**
   ```bash
   # 后端日志
   tail -f logs/backend.log
   
   # 前端日志（浏览器Console）
   ```

4. **提交Issue**
   - 包含错误信息
   - 包含复现步骤
   - 包含环境信息

---

## 📋 测试报告模板

```markdown
## 测试报告

**测试人员**: [姓名]
**测试时间**: [时间]
**测试版本**: Sprint 01 Fix

### 测试1: 仪表盘图表
- 状态: [ ] 通过 [ ] 失败
- 备注: 

### 测试2: 树形视图详情抽屉
- 状态: [ ] 通过 [ ] 失败
- 备注: 

### 发现的问题
1. 
2. 

### 建议改进
1. 
2. 
```

---

## 🎯 成功标准

### 基础功能
- ✅ 所有视图无JavaScript错误
- ✅ 数据正确加载和显示
- ✅ 交互响应流畅

### 用户体验
- ✅ UI布局合理
- ✅ 信息清晰易读
- ✅ 操作符合直觉

### 性能
- ✅ 加载时间可接受
- ✅ 交互延迟低
- ✅ 无明显卡顿

---

**✅ 准备好测试了！**

访问 http://localhost:8080 开始测试！

---

**文档版本**: v1.0  
**创建日期**: 2026-01-17  
**测试范围**: Sprint 01 Bug修复 + 功能增强
