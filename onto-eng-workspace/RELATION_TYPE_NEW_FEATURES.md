# 关系类型分布 - 新功能使用指南

## 🎯 核心改进

### 问题修复 ✅
| 问题 | 状态 |
|------|------|
| ❌ 显示"undefined" | ✅ 已修复 |
| ❌ Tooltip空白 | ✅ 已修复 |
| ❌ 类型太多看不清 | ✅ 已优化 |
| ❌ 无法查看实例 | ✅ 已添加 |

---

## 🆕 新功能介绍

### 1️⃣ 表格视图（替代圆饼图）

**优势**:
- ✅ 清晰展示30种关系类型
- ✅ 支持搜索和过滤
- ✅ 支持按数量排序
- ✅ 占比用进度条展示

**使用方法**:
```
打开仪表盘 → 找到"关系类型分布"卡片 → 查看表格
```

---

### 2️⃣ 搜索功能 🔍

**位置**: 卡片右上角搜索框

**支持搜索**:
- 关系类型中文名（如："拆分为"）
- 关系类型ID（如："splits_to_fr"）

**示例**:
```
输入 "sprint"  → 显示: in_sprint, has_sprint
输入 "拆分"    → 显示: 拆分为, 拆分为系统需求
```

---

### 3️⃣ 点击查看实例 👁️

**操作**: 点击任意关系类型行最右侧的"眼睛"图标

**弹出内容**:
- 关系类型详细信息
- 该类型的前20条关系实例
- 源节点 → 关系 → 目标节点
- 节点类型和元数据

**示例数据**:
```
关系实例预览: 拆分为  [6条]
━━━━━━━━━━━━━━━━━━━━━━━━━━
类型ID: splits_to_fr
说明: 系统需求拆分为功能需求

┌─────────────────────────────┐
│ 自动泊车功能系统需求         │
│ [SSTS] ─拆分为→ [FR]         │
│         泊车入位功能需求     │
│ 置信度: 100%                 │
└─────────────────────────────┘
```

---

### 4️⃣ 未定义类型标注 ⚠️

**显示**:
- 已定义类型: `[紫色标签]`
- 未定义类型: `[灰色标签] + [未定义]`

**说明**:
- 帮助识别哪些类型还未在Schema中定义
- 建议后续补充这些类型的说明

---

### 5️⃣ 排序功能 🔢

**点击"数量"列标题**:
- 第1次点击 → 降序（数量从多到少）
- 第2次点击 → 升序（数量从少到多）
- 第3次点击 → 取消排序

---

### 6️⃣ 分页展示 📄

**配置**:
- 默认每页10条
- 可切换为20条/50条
- 底部显示总数

**导航**:
```
< 上一页  1 / 3  下一页 >
共 30 种关系类型
```

---

## 🎨 界面说明

### 表格列说明

| 列名 | 说明 | 示例 |
|------|------|------|
| 序号 | 排序序号 | 1, 2, 3... |
| 关系类型 | 中文标签 + 定义状态 | `拆分为` `[未定义]` |
| 说明 | 关系类型的详细说明 | "系统需求拆分为功能需求" |
| 数量 | 该类型的关系数量 | `6` |
| 占比 | 占总关系数的百分比 | `████ 10%` |
| 操作 | 查看实例按钮 | 👁️ |

---

## 💡 使用技巧

### 快速查找关系类型
1. 使用搜索框输入关键词
2. 点击"数量"排序找到最常用的类型
3. 查看"未定义"标签找到待完善的类型

### 了解关系详情
1. 点击眼睛图标查看实例
2. 在Modal中查看源节点和目标节点
3. 关注置信度和元数据

### 数据质量检查
1. 筛选"未定义"类型
2. 查看这些类型的实例
3. 补充Schema定义

---

## 📊 数据统计

当前系统中:
- ✅ 30种关系类型
- ✅ 100%类型有标签（无undefined）
- ✅ 10种已有详细说明
- ⚠️ 20种待补充说明（标注为"未定义"）

---

## 🔧 常见问题

### Q1: 为什么有些类型显示"未定义"？
**A**: 这些类型在数据中存在，但Schema中还未定义。不影响使用，建议后续补充。

### Q2: 如何查看某个类型的所有实例？
**A**: 点击该类型行的眼睛图标，弹出Modal显示前20条实例。如需查看更多，使用表格视图或图谱视图。

### Q3: 搜索框支持模糊搜索吗？
**A**: 是的，输入部分关键词即可匹配。支持搜索中文标签和英文ID。

### Q4: 占比进度条颜色有什么含义？
**A**: 
- 绿色：占比 > 10%（高频使用）
- 蓝色：占比 ≤ 10%（正常使用）

### Q5: 关系实例Modal最多显示多少条？
**A**: 最多显示20条。如需查看更多，请使用表格视图的"关系"筛选功能。

---

## 🚀 下一步

### 推荐操作
1. 浏览所有关系类型，了解系统全貌
2. 点击查看高频使用类型的实例
3. 记录"未定义"类型，准备补充Schema
4. 使用搜索功能快速定位感兴趣的类型

### 相关功能
- 📊 **表格视图**: 查看所有关系数据
- 🕸️ **图谱视图**: 可视化关系网络
- 📈 **统计分析**: 查看更多数据指标

---

## 📞 反馈和建议

如有问题或建议，请反馈：
- 功能改进建议
- 使用问题
- 数据问题

我们将持续优化用户体验！

---

**更新时间**: 2026-01-17  
**版本**: v0.2.0
