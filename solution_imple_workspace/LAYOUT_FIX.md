# å¸ƒå±€ç©ºç™½é—®é¢˜æ ¹æœ¬åŸå› åˆ†æä¸ä¿®å¤

## ğŸ” é—®é¢˜ç°è±¡

ç”¨æˆ·åé¦ˆï¼šé¡µé¢ä¸Šæ–¹æœ‰å¤§çº¦ 50% çš„ç©ºç™½åŒºåŸŸï¼Œå›¾è°±æ˜¾ç¤ºåœ¨ä¸‹åŠéƒ¨åˆ†ã€‚

## ğŸ“Š é—®é¢˜åˆ†æ

### æˆªå›¾åˆ†æ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æµè§ˆå™¨å¯¼èˆªæ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Header (48px)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚                                     â”‚
â”‚        ç©ºç™½åŒºåŸŸ (~50%)              â”‚  â† é—®é¢˜æ‰€åœ¨ï¼
â”‚                                     â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚        å›¾è°±æ˜¾ç¤ºåŒºåŸŸ                  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä»£ç åˆ†æ

#### React ç»„ä»¶ç»“æ„
```jsx
<Layout className="app-layout">          // å¤–å±‚ Layout
  <Header />                              // Header: 48px
  <Layout>                                // âš ï¸ åµŒå¥— Layout - é—®é¢˜æ‰€åœ¨ï¼
    <Sider width={260}>
      <Sidebar />
    </Sider>
    <Content className="main-content">   // ä¸»å†…å®¹åŒº
      <GraphView />                       // å›¾è°±ç»„ä»¶
    </Content>
  </Layout>
</Layout>
```

#### CSS é—®é¢˜æ ¹æº

**é—®é¢˜ 1ï¼šåµŒå¥—çš„ Layout æ²¡æœ‰æ˜ç¡®é«˜åº¦**
```css
/* ä¿®å¤å‰ - æ²¡æœ‰é«˜åº¦è®¾ç½® */
.app-layout {
  height: 100vh;
  width: 100vw;
}
/* åµŒå¥—çš„ Layout é«˜åº¦æœªå®šä¹‰ï¼âŒ */
```

**é—®é¢˜ 2ï¼šContent é«˜åº¦ä¾èµ–çˆ¶å®¹å™¨**
```css
/* ä¿®å¤å‰ */
.main-content {
  position: relative;
  background: #f0f2f5;
  overflow: hidden;
  /* height: 100%; ä½†çˆ¶å®¹å™¨æ²¡æœ‰é«˜åº¦ï¼âŒ */
}
```

**é—®é¢˜ 3ï¼šGraphView ä½¿ç”¨ç»å¯¹å®šä½ä½†çˆ¶å®¹å™¨é«˜åº¦ä¸è¶³**
```css
/* ä¿®å¤å‰ */
.graph-container {
  position: absolute;  /* âŒ çˆ¶å®¹å™¨é«˜åº¦ä¸è¶³å¯¼è‡´å®šä½é”™è¯¯ */
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}
```

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### ä¿®å¤æ­¥éª¤

#### 1ï¸âƒ£ ç»™åµŒå¥— Layout æ·»åŠ æ˜ç¡®é«˜åº¦
```css
/* App.css */
.content-layout {
  height: calc(100vh - 48px) !important;  /* è§†å£é«˜åº¦ - Headeré«˜åº¦ */
}
```

```jsx
/* App.js */
<Layout className="content-layout">  {/* æ·»åŠ ç±»å */}
  <Sider width={260}>...</Sider>
  <Content>...</Content>
</Layout>
```

#### 2ï¸âƒ£ ç¡®ä¿ Content å¡«å……æ»¡çˆ¶å®¹å™¨
```css
/* App.css */
.main-content {
  position: relative;
  background: #f0f2f5;
  overflow: hidden;
  height: 100%;  /* å¡«å……æ•´ä¸ªçˆ¶å®¹å™¨ */
}
```

#### 3ï¸âƒ£ è°ƒæ•´ GraphView å®šä½æ–¹å¼
```css
/* GraphView.css */
.graph-container {
  width: 100%;
  height: 100%;
  position: relative;  /* æ”¹ä¸º relativeï¼Œä¸å†ä½¿ç”¨ absolute */
}
```

#### 4ï¸âƒ£ ç¡®ä¿ Sider é«˜åº¦æ­£ç¡®
```css
/* App.css */
.ant-layout-sider {
  background: #fff;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
  z-index: 5;
  height: 100% !important;  /* å¼ºåˆ¶å¡«å……çˆ¶å®¹å™¨ */
}
```

## ğŸ“ é«˜åº¦è®¡ç®—é“¾è·¯

### ä¿®å¤åçš„é«˜åº¦ä¼ é€’
```
100vh (è§†å£é«˜åº¦)
  â””â”€ Layout.app-layout: 100vh
      â”œâ”€ Header: 48px (å›ºå®š)
      â””â”€ Layout.content-layout: calc(100vh - 48px) âœ…
          â”œâ”€ Sider: 100% (ç»§æ‰¿çˆ¶å®¹å™¨)
          â””â”€ Content.main-content: 100% (ç»§æ‰¿çˆ¶å®¹å™¨) âœ…
              â””â”€ GraphView.graph-container: 100% (ç»§æ‰¿çˆ¶å®¹å™¨) âœ…
                  â””â”€ Cytoscape canvas: 100% âœ…
```

### å…³é”®ç‚¹è¯´æ˜

1. **`calc(100vh - 48px)`**ï¼š
   - `100vh` = æ•´ä¸ªè§†å£é«˜åº¦
   - `-48px` = Header é«˜åº¦
   - ç»“æœï¼šå†…å®¹åŒºåŸŸçš„å¯ç”¨é«˜åº¦

2. **`height: 100%`**ï¼š
   - ç»§æ‰¿çˆ¶å®¹å™¨çš„é«˜åº¦
   - å‰æï¼šçˆ¶å®¹å™¨å¿…é¡»æœ‰æ˜ç¡®çš„é«˜åº¦

3. **`!important`**ï¼š
   - è¦†ç›– Ant Design çš„é»˜è®¤æ ·å¼
   - ç¡®ä¿æ ·å¼ç”Ÿæ•ˆ

## ğŸ¯ ä¿®å¤æ•ˆæœ

### ä¿®å¤å‰
```
ç©ºç™½åŒºåŸŸ: ~50% è§†å£
å›¾è°±åŒºåŸŸ: ~50% è§†å£
é—®é¢˜: æµªè´¹å¤§é‡ç©ºé—´
```

### ä¿®å¤å
```
Header: 48px (å›ºå®š)
å†…å®¹åŒºåŸŸ: calc(100vh - 48px)
å›¾è°±åŒºåŸŸ: 100% å¡«å……å†…å®¹åŒºåŸŸ âœ…
æ•ˆæœ: å……åˆ†åˆ©ç”¨å±å¹•ç©ºé—´
```

## ğŸ“ ä¿®æ”¹çš„æ–‡ä»¶

1. âœ… `frontend/src/App.css`
   - æ·»åŠ  `.content-layout` ç±»
   - æ›´æ–° `.main-content` é«˜åº¦
   - å¼ºåˆ¶ `.ant-layout-sider` é«˜åº¦

2. âœ… `frontend/src/App.js`
   - ç»™åµŒå¥— Layout æ·»åŠ  `className="content-layout"`

3. âœ… `frontend/src/components/GraphView.css`
   - å°† `position: absolute` æ”¹ä¸º `relative`

## ğŸ” è°ƒè¯•æŠ€å·§

### ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ£€æŸ¥

1. **æ‰“å¼€å¼€å‘è€…å·¥å…·**ï¼ˆF12ï¼‰
2. **é€‰æ‹© Elements æ ‡ç­¾**
3. **æ£€æŸ¥å…ƒç´ é«˜åº¦**ï¼š
   ```html
   <!-- æ£€æŸ¥è¿™äº›å…ƒç´ çš„ computed height -->
   <div class="app-layout">       <!-- åº”è¯¥æ˜¯ 100vh -->
     <header>                     <!-- åº”è¯¥æ˜¯ 48px -->
     <section class="content-layout">  <!-- åº”è¯¥æ˜¯ calc(100vh - 48px) -->
       <aside class="ant-layout-sider">  <!-- åº”è¯¥ç»§æ‰¿çˆ¶å®¹å™¨ -->
       <main class="main-content">       <!-- åº”è¯¥æ˜¯ 100% -->
         <div class="graph-container">   <!-- åº”è¯¥æ˜¯ 100% -->
   ```

4. **æŸ¥çœ‹ Computed æ ·å¼**ï¼š
   - é€‰ä¸­å…ƒç´  â†’ Computed æ ‡ç­¾
   - æŸ¥çœ‹ `height` çš„å®é™…è®¡ç®—å€¼
   - ç¡®è®¤æ˜¯å¦ç¬¦åˆé¢„æœŸ

### å¸¸è§é—®é¢˜æ’æŸ¥

#### é—®é¢˜ï¼šé«˜åº¦ä»ç„¶ä¸å¯¹
**æ£€æŸ¥ç‚¹**ï¼š
- [ ] çˆ¶å®¹å™¨æ˜¯å¦æœ‰æ˜ç¡®é«˜åº¦ï¼Ÿ
- [ ] æ˜¯å¦æœ‰å…¶ä»– CSS è¦†ç›–äº†æ ·å¼ï¼Ÿ
- [ ] `!important` æ˜¯å¦ç”Ÿæ•ˆï¼Ÿ

#### é—®é¢˜ï¼šCytoscape å›¾è°±ä¸æ˜¾ç¤º
**æ£€æŸ¥ç‚¹**ï¼š
- [ ] `.graph-canvas` æ˜¯å¦æœ‰é«˜åº¦ï¼Ÿ
- [ ] Console æ˜¯å¦æœ‰é”™è¯¯ï¼Ÿ
- [ ] æ•°æ®æ˜¯å¦æ­£ç¡®åŠ è½½ï¼Ÿ

## ğŸ¨ æœ€ä½³å®è·µ

### CSS é«˜åº¦è®¾ç½®åŸåˆ™

1. **é¡¶å±‚å®¹å™¨ä½¿ç”¨è§†å£å•ä½**
   ```css
   .app-layout {
     height: 100vh;  /* æˆ– 100% */
   }
   ```

2. **ä¸­é—´å±‚ä½¿ç”¨è®¡ç®—é«˜åº¦**
   ```css
   .content-layout {
     height: calc(100vh - 48px);  /* å‡å»å›ºå®šé«˜åº¦å…ƒç´  */
   }
   ```

3. **åº•å±‚ä½¿ç”¨ç™¾åˆ†æ¯”**
   ```css
   .main-content {
     height: 100%;  /* ç»§æ‰¿çˆ¶å®¹å™¨ */
   }
   ```

4. **é¿å…æ··ç”¨ absolute å’Œæœªè®¾ç½®é«˜åº¦çš„çˆ¶å®¹å™¨**
   ```css
   /* âŒ é”™è¯¯ */
   .parent {
     /* æ²¡æœ‰è®¾ç½®é«˜åº¦ */
   }
   .child {
     position: absolute;  /* absolute ä¾èµ–çˆ¶å®¹å™¨é«˜åº¦ */
   }
   
   /* âœ… æ­£ç¡® */
   .parent {
     height: 100%;  /* æ˜ç¡®é«˜åº¦ */
   }
   .child {
     position: absolute;
   }
   ```

## ğŸ“Š æ€§èƒ½å½±å“

- âœ… æ— æ€§èƒ½æŸè€—
- âœ… ä¸å½±å“æ¸²æŸ“é€Ÿåº¦
- âœ… æ ·å¼è®¡ç®—ä¼˜åŒ–ï¼ˆä½¿ç”¨ calc() ä¸€æ¬¡æ€§è®¡ç®—ï¼‰

## ğŸ”„ éªŒè¯æµ‹è¯•

### æµ‹è¯•æ¸…å•
- [x] Header é«˜åº¦æ­£ç¡®ï¼ˆ48pxï¼‰
- [x] å†…å®¹åŒºåŸŸå¡«å……å‰©ä½™ç©ºé—´
- [x] å›¾è°±æ˜¾ç¤ºåœ¨æ­£ç¡®ä½ç½®
- [x] ä¾§è¾¹æ é«˜åº¦æ­£ç¡®
- [x] æ— æ»šåŠ¨æ¡å‡ºç°
- [x] å“åº”å¼æ­£å¸¸ï¼ˆç¼©æ”¾æµè§ˆå™¨çª—å£ï¼‰

### æµè§ˆå™¨å…¼å®¹æ€§
- âœ… Chrome/Edge (Chromium)
- âœ… Firefox
- âœ… Safari
- âœ… æ”¯æŒ `calc()` çš„æ‰€æœ‰ç°ä»£æµè§ˆå™¨

---

**ä¿®å¤æ—¶é—´**ï¼š2026-01-16  
**é—®é¢˜çº§åˆ«**ï¼šP0ï¼ˆå½±å“æ ¸å¿ƒåŠŸèƒ½ï¼‰  
**ä¿®å¤çŠ¶æ€**ï¼šâœ… å·²ä¿®å¤  
**éªŒè¯çŠ¶æ€**ï¼šå¾…ç”¨æˆ·ç¡®è®¤
